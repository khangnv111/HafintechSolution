
<div id="pop_loading">

	<div id="loading_count">
		<div style="top: 40%; left: 50%; position: absolute; transform: translate(-50%, -50%); text-align: center">
			<i class="fa fa-spinner fa-pulse fa-5x fa-fw" style="color: #fff"></i>

			<div style="margin-top: 25px;font-size: 35px; color: #fff; width: 400px;border: 2px solid #69AF23;height: 35px;">
				<div class="loadbar">
				</div>
				<div style="padding: 5px;position: absolute;width: 100%;font-weight: bold;">
					<span style="color: #ff6a00">{{count}}</span>/<span>{{total}}</span>
				</div>
			</div>
		</div>

	</div>
	<style>
		.loadbar {
			width: 0%;
			background: repeating-linear-gradient( 45deg, #008737, #008737 10px, #69AF23 10px, #69AF23 20px ); /* Stripes Background Gradient */
			box-shadow: 0px 0px 14px 1px #008737;
			position: absolute;
			animation: flicker 5s infinite;
			overflow: hidden;
			height: 30px
		}

		#loading_count {
			width: 100%;
			height: 100%;
			left: 0;
			top: 0;
			position: fixed;
			z-index: 113;
			background-color: black;
			opacity: 0.8
		}
	</style>

	<script>
		var loader = new Vue({
			el: '#loading_count',
			data: {
				count: 0, //số lượng đã thực hiện xong
				total: 0, //tổng
			},
			methods: {
				init: function () {
					var data = this.data;

					if (app) { 
						this.total = app.lstCheckId.length;
					}
					this.countPercent();
				},
				countPercent: function () {
					this.count = app.index; 
					var perCent = this.count / this.total * 100;
					//var self = this;
					$(".loadbar").css("width", perCent + "%");
				},
			},
			mounted() {
				this.init();
			},

		});
	</script>
</div>
